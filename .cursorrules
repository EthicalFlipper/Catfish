You are helping build "Catfish" (DateGuard) â€” a Chrome extension that is DATING-APP SPECIFIC.

New priority feature:
- Implement "Analyze This Thread" on Tinder Web via a content script (DOM extraction).
- User must click a button to import the thread (user-initiated). Do not background scrape.

Hard constraints:
- NO Tinder/Hinge/Bumble API integration. No OAuth. No network interception.
- NO scraping audio URLs. No blob URL extraction. Audio recording will be done later via tabCapture/offscreen.
- NO model training/fine-tuning. Pretrained + APIs only.
- Keep changes minimal and demo-proof. Avoid unnecessary dependencies.

Implementation rules:
- Use a Tinder site adapter content script that:
  - Detects chat thread UI
  - Injects a visible "Analyze this thread" button
  - Extracts last N messages (e.g., 30) with speaker labels (You / Match)
  - Sends a THREAD_IMPORT message to the extension (background or directly to UI)
  - Use MutationObserver to survive SPA re-renders
  - Prefer accessible/semantic selectors (role/aria) and provide fallbacks if selectors fail
- Extension UI (Text tab) must:
  - Receive THREAD_IMPORT and auto-fill the textarea
  - Optionally auto-run /analyze/text one time per import
  - Show results: risk score/category, flags, recommended action, suggested reply w/ copy button

Backend rules (FastAPI):
- Keep strict JSON contracts; clear error messages; CORS enabled for localhost + chrome-extension://*

